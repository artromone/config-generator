# Game Server Configuration üéÆ
title: &title "awesome-game-server"

# –ò–≥—Ä–æ–≤–æ–π —Å–µ—Ä–≤–µ—Ä
game:
  name: "Super Adventure World"
  version: "1.2.3"
  max_players: 100
  difficulty: "normal" # easy, normal, hard, nightmare
  pvp_enabled: true
  
  # –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –º–∏—Ä–∞
  world:
    name: "Emerald Valley"
    seed: "${WORLD_SEED:12345}"
    size: "large" # small, medium, large, huge
    weather_enabled: true
    day_night_cycle: true
    spawn_point:
      x: 0
      y: 100
      z: 0

  # –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –∏–≥—Ä–æ–∫–æ–≤
  player:
    starting_health: 100
    starting_money: "${STARTING_MONEY:500}"
    max_inventory_slots: 30
    respawn_time: 5
    
    # –°—Ç–∞—Ä—Ç–æ–≤—ã–µ –ø—Ä–µ–¥–º–µ—Ç—ã
    starter_kit:
      - "wooden_sword"
      - "bread:5"
      - "health_potion:2"

# –í–µ–±-—Å–µ—Ä–≤–µ—Ä
web:
  host: "${SERVER_HOST:localhost}"
  port: "${SERVER_PORT:8080}"
  ssl_enabled: "${SSL_ENABLED:false}"
  admin_panel: true
  
  # API –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
  api:
    rate_limit: 1000
    timeout: "30s"
    cors_enabled: true
    allowed_origins:
      - "http://localhost:3000"
      - "https://game.example.com"

# –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö
database:
  type: "postgresql"
  connection: "postgresql://${DB_USER}:${DB_PASSWORD}@${DB_HOST}:${DB_PORT}/${DB_NAME}?sslmode=${DB_SSL:disable}"
  
  # –ü—É–ª —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π
  pool:
    max_connections: 25
    min_connections: 5
    idle_timeout: "10m"
    max_lifetime: "1h"
  
  # –ú–∏–≥—Ä–∞—Ü–∏–∏
  migrations:
    enabled: true
    auto_migrate: "${AUTO_MIGRATE:true}"
    backup_before_migrate: true

# –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è
auth:
  # –í–Ω–µ—à–Ω–∏–µ –ø—Ä–æ–≤–∞–π–¥–µ—Ä—ã
  providers:
    google:
      client_id: "${GOOGLE_CLIENT_ID}"
      client_secret: "${GOOGLE_CLIENT_SECRET}"
      enabled: true
    
    discord:
      client_id: "${DISCORD_CLIENT_ID}"
      client_secret: "${DISCORD_CLIENT_SECRET}"
      enabled: true
  
  # JWT —Ç–æ–∫–µ–Ω—ã
  jwt:
    secret: "${JWT_SECRET}"
    expires_in: "24h"
    refresh_expires_in: "7d"
    
  # –°–µ—Å—Å–∏–∏
  session:
    cookie_name: "${SESSION_COOKIE_NAME:game_session}"
    secure: "${SESSION_SECURE:false}"
    max_age: 86400 # 24 hours

# –§—É–Ω–∫—Ü–∏–∏ –∏–≥—Ä—ã
features:
  # –ß–∞—Ç —Å–∏—Å—Ç–µ–º–∞
  chat:
    enabled: true
    max_message_length: 200
    spam_protection: true
    bad_words_filter: true
    channels:
      - "global"
      - "trade"
      - "guild"
  
  # –≠–∫–æ–Ω–æ–º–∏–∫–∞
  economy:
    inflation_rate: 0.02
    tax_rate: "${TAX_RATE:0.05}"
    daily_bonus: 100
    
    # –ú–∞–≥–∞–∑–∏–Ω
    shop:
      refresh_interval: "6h"
      discount_events: true
      seasonal_items: true
  
  # –°–æ–±—ã—Ç–∏—è
  events:
    double_xp:
      enabled: true
      schedule: "0 18 * * 6" # –∫–∞–∂–¥—É—é —Å—É–±–±–æ—Ç—É –≤ 18:00
      duration: "2h"
    
    boss_fights:
      enabled: true
      min_players: 5
      rewards_multiplier: 2.0

# –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ –ª–æ–≥–∏
monitoring:
  # –ú–µ—Ç—Ä–∏–∫–∏
  metrics:
    enabled: true
    endpoint: "/metrics"
    collect_interval: "10s"
    
    # –ß—Ç–æ —Å–æ–±–∏—Ä–∞–µ–º
    collect:
      player_count: true
      server_performance: true
      game_events: true
  
  # –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
  logging:
    level: "${LOG_LEVEL:info}" # debug, info, warn, error
    format: "json"
    output: "stdout"
    
    # –§–∞–π–ª–æ–≤—ã–µ –ª–æ–≥–∏
    file:
      enabled: "${FILE_LOGGING:false}"
      path: "./logs"
      max_size: "100MB"
      max_age: "30d"

# –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
notifications:
  # Email
  email:
    enabled: "${EMAIL_ENABLED:false}"
    smtp_host: "${SMTP_HOST}"
    smtp_port: "${SMTP_PORT:587}"
    username: "${SMTP_USER}"
    password: "${SMTP_PASSWORD}"
    from: "${EMAIL_FROM:noreply@game.com}"
  
  # –í–µ–±-—Ö—É–∫–∏
  webhooks:
    discord:
      enabled: "${DISCORD_WEBHOOK_ENABLED:false}"
      url: "${DISCORD_WEBHOOK_URL}"
      events:
        - "player_join"
        - "player_leave"
        - "server_start"
        - "server_stop"

# –ö–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ
cache:
  type: "redis"
  redis:
    host: "${REDIS_HOST:localhost}"
    port: "${REDIS_PORT:6379}"
    password: "${REDIS_PASSWORD}"
    database: 0
    
  # TTL –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
  ttl:
    player_data: "15m"
    world_data: "5m"
    leaderboards: "1h"
    shop_items: "6h"

# –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å
security:
  # –ó–∞—â–∏—Ç–∞ –æ—Ç DDoS
  rate_limiting:
    enabled: true
    requests_per_minute: 60
    burst_size: 10
  
  # –ê–Ω—Ç–∏—á–∏—Ç
  anticheat:
    enabled: true
    strict_mode: "${ANTICHEAT_STRICT:false}"
    auto_ban: true
    
    # –ü—Ä–æ–≤–µ—Ä–∫–∏
    checks:
      speed_hack: true
      fly_hack: true
      item_duplication: true
